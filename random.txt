curl -i -X POST -H "Accept:application/json" -H "Content-Type:application/json" localhost:8083/connectors/ -d 
'{  
    "name": "postgres-connector", 
    "config": {
        "connector.class": "io.debezium.connector.postgresql.PostgresConnector",
        "plugin.name": "pgoutput",
        "database.user": "postgres",
        "database.dbname": "bigdata_db",
        "database.hostname": "postgres",
        "database.password": "postgres",
        "database.port": "5432",
        "database.server.name": "postgres",
        "table.include.list": "public.transactions",
        "topic.prefix": "bd", 
        "decimal.handling.mode": "string"
    }
}'


$headers = @{
    'Content-Type' = 'application/json'
}

$body = @{
    'name' = 'bigdata-connector'
    'config' = @{
        'connector.class' = 'io.debezium.connector.postgresql.PostgresConnector'
        'plugin.name' = 'pgoutput'
        'database.user' = 'postgres'
        'database.dbname' = 'bigdata_db'
        'database.hostname' = 'postgres'
        'database.password' = 'postgres'
        'database.port' = '5432'
        'database.server.name' = 'postgres'
        'table.include.list' = 'public.transactions'
        'topic.prefix' = 'bd'
        'decimal.handling.mode' = 'string'
    }
}

Invoke-WebRequest -Uri 'http://localhost:8083/connectors' -Method Post -Headers $headers -Body ($body | ConvertTo-Json) -UseBasicParsing
